
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://www.vmetu.com/blog/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="http://www.vmetu.com/blog/theme/pygments/github.min.css">

    <script src="http://www.vmetu.com/blog/theme/tipuesearch/jquery.min.js"></script>
    <script src="http://www.vmetu.com/blog/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="http://www.vmetu.com/blog/theme/tipuesearch/tipuesearch.min.js"></script>
    <script src="http://www.vmetu.com/blog/theme/tipuesearch/tipuesearch_set.min.js"></script>
    <script src="http://www.vmetu.com/blog/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="http://www.vmetu.com/blog/theme/tipuesearch/tipuesearch.min.css" />

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <link rel="stylesheet" type="text/css" href="http://www.vmetu.com/blog/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="http://www.vmetu.com/blog/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="http://www.vmetu.com/blog/theme/font-awesome/css/solid.css">




    <link rel="shortcut icon" href="http://www.vmetu.com/blog/../external/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="http://www.vmetu.com/blog/../external/images/favicon.ico" type="image/x-icon">


    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333">

<meta name="author" content="张文" />
<meta name="description" content="这里对Mathf相关函数做一个简要说明 …" />
<meta name="keywords" content="Unity">


<meta property="og:site_name" content="观心苑"/>
<meta property="og:title" content="Mathf相关函数"/>
<meta property="og:description" content="这里对Mathf相关函数做一个简要说明 …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://www.vmetu.com/blog/mathfxiang-guan-han-shu.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-10-05 00:00:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://www.vmetu.com/blog/author/zhang-wen.html">
<meta property="article:section" content="Unity"/>
<meta property="article:tag" content="Unity"/>
<meta property="og:image" content="http://www.vmetu.com/blog/../external/images/profile.jpg">

  <title>观心苑 &ndash; Mathf相关函数</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="http://www.vmetu.com/blog">
        <img src="http://www.vmetu.com/blog/../external/images/profile.jpg" alt="张三" title="张三">
      </a>

      <h1>
        <a href="http://www.vmetu.com/blog">张三</a>
      </h1>

<p>随便写点东西</p>

      <ul class="social">
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="http://www.vmetu.com/blog">首页</a>
      <a href="http://www.vmetu.com/blog/archives.html">所有</a>
      <a href="http://www.vmetu.com/blog/categories.html">分类</a>
      <a href="http://www.vmetu.com/blog/tags.html">标签</a>



        <form style="display: inline" class="navbar-search" action="http://www.vmetu.com/blog/search.html" role="search">
          <input type="text" name="q" id="tipue_search_input" placeholder="Search...">
        </form>

    </nav>

<article class="single">
  <header>
      
    <h1 id="mathfxiang-guan-han-shu">Mathf相关函数</h1>
    <p>
      Posted on 周一 05 十月 2015 in <a href="http://www.vmetu.com/blog/category/unity.html">Unity</a>

    </p>
  </header>


  <div>
    <p>这里对Mathf相关函数做一个简要说明，抄的。</p>
<h2>Mathf.Abs绝对值##</h2>
<p>计算并返回指定参数 f 绝对值。 </p>
<h2>Mathf.Acos反余弦</h2>
<p><code>static function Acos (f : float) : float</code>   <br>
以弧度为单位计算并返回参数 f 中指定的数字的反余弦值。 </p>
<h2>Mathf.Approximately近似</h2>
<p><code>static function Approximately (a : float, b: float) : bool</code>  <br>
比较两个浮点数值，看它们是否非常接近, 由于浮点数值不精确，不建议使用等于来比较它们。例如，1.0==10.0/10.0也许不会返回true。 </p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">    publicvoid Awake() { </span>
<span class="err">        if(Mathf.Approximately(1.0F, 10.0F / 10.0F)) </span>
<span class="err">            print(&quot;same&quot;); </span>
<span class="err">    } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.Asin反正弦</h2>
<p><code>static function Asin (f : float) : float</code>  <br>
以弧度为单位计算并返回参数 f 中指定的数字的反正弦值。 </p>
<h2>Mathf.Atan2反正切</h2>
<p><code>static function Atan2 (y : float, x :float) : float</code>  <br>
以弧度为单位计算并返回 y/x 的反正切值。返回值表示相对直角三角形对角的角，其中 x 是临边边长，而 y 是对边边长。    <br>
返回值是在x轴和一个二维向量开始于0个结束在(x,y)处之间的角。 </p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">    publicTransform target; </span>
<span class="err">    voidUpdate() { </span>
<span class="err">        Vector3relative = transform.InverseTransformPoint(target.position); </span>
<span class="err">        floatangle = Mathf.Atan2(relative.x, relative.z) * Mathf.Rad2Deg; </span>
<span class="err">        transform.Rotate(0,angle, 0); </span>
<span class="err">    } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.Atan反正切</h2>
<p><code>static function Atan (f : float) :float</code>  <br>
计算并返回参数 f 中指定的数字的反正切值。返回值介于负二分之 pi 与正二分之 pi 之间。 </p>
<h2>Mathf.CeilToInt最小整数</h2>
<p><code>static function CeilToInt (f : float) : int</code>  <br>
返回最小的整数大于或等于f。 </p>
<h2>Mathf.Ceil上限值</h2>
<p><code>static function Ceil (f : float) : float</code>  <br>
返回 f 指定数字或表达式的上限值。数字的上限值是大于等于该数字的最接近的整数。 </p>
<h2>Mathf.Clamp01</h2>
<p><code>static function Clamp01 (value : float) :float</code>  <br>
限制value在0,1之间并返回value。如果value小于0，返回0。如果value大于1,返回1，否则返回value 。 </p>
<h2>Mathf.Clamp</h2>
<p><code>static function Clamp (value : float, min :float, max : float) : float</code>  <br>
限制value的值在min和max之间， 如果value小于min，返回min。 如果value大于max，返回max，否则返回value </p>
<p><code>static function Clamp (value : int, min :int, max : int) : int</code>  <br>
限制value的值在min和max之间，并返回value。 </p>
<h2>Mathf.ClosestPowerOfTwo最近的二次方</h2>
<p><code>static function ClosestPowerOfTwo (value :int) : int</code>  <br>
返回距离value最近的2的次方数。 </p>
<h2>Mathf.Cos余弦</h2>
<p><code>static function Cos (f : float) : float</code>  <br>
返回由参数 f 指定的角的余弦值（介于 -1.0 与 1.0 之间的值）。 </p>
<h2>Mathf.Deg2Rad度转弧度</h2>
<p><code>static var Deg2Rad : float</code>  <br>
度到弧度的转化常量。（只读）   <br>
这等于(PI * 2) / 360。 </p>
<h2>Mathf.Mathf.Rad2Deg 弧度转度</h2>
<p><code>static var Rad2Deg : float</code>  <br>
弧度到度的转化常量。（只读）   <br>
这等于 360 / (PI * 2)。 </p>
<h2>Mathf.DeltaAngle增量角</h2>
<p><code>static function DeltaAngle (current :float, target : float) : float</code>  <br>
计算给定的两个角之间最短的差异。 </p>
<div class="highlight"><pre><span></span><code><span class="err">// Prints 90 </span>
<span class="err">Debug.Log(Mathf.DeltaAngle(1080,90));</span>
</code></pre></div>


<h2>Mathf.Epsilon小正数</h2>
<p><code>static var Epsilon : float</code> <br>
一个很小的浮点数值。（只读） 
最小的浮点值，不同于0。 
以下规则： 
-    anyValue + Epsilon = anyValue 
-    anyValue - Epsilon = anyValue 
-    0 + Epsilon = Epsilon 
-    0 - Epsilon = -Epsilon 
一个在任意数和Epsilon的之间值将导致在任意数发生截断误差。 
public class example : MonoBehaviour { 
            boolisEqual(float a, float b) { 
                        if(a &gt;= b - Mathf.Epsilon &amp;&amp; a &lt;= b + Mathf.Epsilon) 
                                    returntrue; 
                        else 
                                    returnfalse; 
            } 
} </p>
<h2>Mathf.Exp指数</h2>
<p><code>static function Exp (power : float) : float</code>  <br>
返回 e 的 power 次方的值。 </p>
<h2>Mathf.FloorToInt最大整数</h2>
<p><code>static function FloorToInt (f : float) :int</code>  <br>
返回最大的整数，小于或等于f。 </p>
<h2>Mathf.Floor下限值</h2>
<p><code>static function Floor (f : float) : float</code>  <br>
返回参数 f 中指定的数字或表达式的下限值。下限值是小于等于指定数字或表达式的最接近的整数。 </p>
<h2>Mathf.Infinity正无穷</h2>
<p><code>static var Infinity : float</code>   <br>
表示正无穷，也就是无穷大，∞ （只读） </p>
<h2>Mathf.InverseLerp反插值</h2>
<p>计算两个值之间的Lerp参数。也就是value在from和to之间的比例值。     </p>
<div class="highlight"><pre><span></span><code><span class="err">//现在参数是3/5 </span>
<span class="err">float parameter =Mathf.InverseLerp(walkSpeed, runSpeed, speed);</span>
</code></pre></div>


<h2>Mathf.IsPowerOfTwo是否2的幂</h2>
<p><code>static function IsPowerOfTwo (value : int): bool</code>  <br>
如果该值是2的幂，返回true。 </p>
<div class="highlight"><pre><span></span><code><span class="err">// prints false </span>
<span class="err">Debug.Log(Mathf.IsPowerOfTwo(7)); </span>
<span class="err">// prints true </span>
<span class="err">Debug.Log(Mathf.IsPowerOfTwo(32));</span>
</code></pre></div>


<h2>Mathf.LerpAngle插值角度</h2>
<p><code>static function LerpAngle (a : float, b :float, t : float) : float</code>   <br>
和Lerp的原理一样，当他们环绕360度确保插值正确。   <br>
a和b是代表度数。 </p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">    publicfloat minAngle = 0.0F; </span>
<span class="err">    publicfloat maxAngle = 90.0F; </span>
<span class="err">    voidUpdate() { </span>
<span class="err">        floatangle = Mathf.LerpAngle(minAngle, maxAngle, Time.time); </span>
<span class="err">        transform.eulerAngles= new Vector3(0, angle, 0); </span>
<span class="err">    } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.Lerp插值</h2>
<p><code>static function Lerp (from : float, to :float, t : float) : float</code>   <br>
基于浮点数t返回a到b之间的插值，t限制在0～1之间。   <br>
当t = 0返回from，当t = 1 返回to。当t = 0.5 返回from和to的平均值。 </p>
<h2>Mathf.Log10基数10的对数</h2>
<p><code>static function Log10 (f : float) : float</code>   <br>
返回f的对数，基数为10。 </p>
<h2>Mathf.Log对数</h2>
<p><code>static function Log (f : float, p : float): float</code>   <br>
返回参数 f 的对数。 </p>
<div class="highlight"><pre><span></span><code><span class="err">// logarithm of 6 in base 2 </span>
<span class="err">//以2为底6的对数 </span>
<span class="err">// prints 2.584963 </span>
<span class="err">print(Mathf.Log(6, 2));</span>
</code></pre></div>


<h2>Mathf.Max最大值</h2>
<p><code>static function Max (a : float, b : float): float</code>   <br>
<code>static function Max (params values :float[]) : float</code>    <br>
返回两个或更多值中最大的值。 </p>
<h2>Mathf.Min最小值</h2>
<p><code>static function Min (a : float, b : float): float</code>    <br>
<code>static function Min (params values :float[]) : float</code>         <br>
返回两个或更多值中最小的值。 </p>
<h2>Mathf.MoveTowardsAngle移动角</h2>
<p><code>static function MoveTowardsAngle (current :float, target : float, maxDelta : float) : float</code>  <br>
像MoveTowards,但是当它们环绕360度确保插值正确。     <br>
变量current和target是作为度数。为优化原因，maxDelta负值的不被支持，可能引起振荡。从target角推开current，添加180度角代替。 </p>
<h1>Mathf.MoveTowards移向</h1>
<p><code>static function MoveTowards (current :float, target : float, maxDelta : float) : float</code>    <br>
改变一个当前值向目标值靠近。      <br>
这实际上和 Mathf.Lerp相同，而是该函数将确保我们的速度不会超过maxDelta。maxDelta为负值将目标从推离。 </p>
<h2>Mathf.NegativeInfinity负无穷</h2>
<p><code>static var NegativeInfinity : float</code>   <br>
表示负无穷，也就是无穷小，-∞（只读） </p>
<h2>Mathf.NextPowerOfTwo下个2的幂</h2>
<h2>Mathf.PingPong乒乓</h2>
<p><code>static function PingPong (t : float, length: float) : float</code>   <br>
0到length之间往返。t值永远不会大于length的值，也永远不会小于0。   <br>
The returned value will move back and forthbetween 0 and length.   <br>
返回值将在0和length之间来回移动。      </p>
<h2>Mathf.PI圆周率</h2>
<p><code>static var PI : float</code>     <br>
PI（读pai）的值，也就是圆周率（π）的值3.14159265358979323846...（只读） </p>
<h2>Mathf.Pow次方</h2>
<p><code>static function Pow (f : float, p : float): float</code>     <br>
计算并返回 f 的 p 次方。 </p>
<h2>Mathf.Repeat重复</h2>
<p><code>static function Repeat (t : float, length :float) : float</code>   <br>
循环数值t，0到length之间。t值永远不会大于length的值，也永远不会小于0。    <br>
这是类似于模运算符，但可以使用浮点数。</p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">    voidUpdate() { </span>
<span class="err">        transform.position= new Vector3(Mathf.Repeat(Time.time, 3),             transform.position.y,transform.position.z); </span>
<span class="err">    } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.RoundToInt四舍五入到整数</h2>
<p><code>static function RoundToInt (f : float) :int</code>  <br>
返回 f 指定的值四舍五入到最近的整数。    <br>
如果数字末尾是.5，因此它是在两个整数中间，不管是偶数或是奇数，将返回偶数。       </p>
<h2>Mathf.Round四舍五入</h2>
<p><code>static function Round (f : float) : float</code>   <br>
返回浮点数 f 进行四舍五入最接近的整数。    <br>
如果数字末尾是.5，因此它是在两个整数中间，不管是偶数或是奇数，将返回偶数。      </p>
<h2>Mathf.Sign符号</h2>
<p><code>static function Sign (f : float) : float</code>     <br>
返回 f 的符号。    <br>
当 f 为正或为0返回1，为负返回-1。       </p>
<h2>Mathf.Sin正弦</h2>
<p><code>static function Sin (f : float) : float</code>  <br>
计算并返回以弧度为单位指定的角 f 的正弦值。 </p>
<h2>Mathf.SmoothDampAngle平滑阻尼角度</h2>
<p><code>static function SmoothDampAngle (current :float, target : float, ref currentVelocity : float, smoothTime : float,maxSpeed : float = Mathf.Infinity, deltaTime : float = Time.deltaTime) : float</code>      <br>
参数   <br>
<strong>current</strong>: 当前的位置。   <br>
<strong>target</strong>: 我们试图达到的位置。   <br>
<strong>currentVelocity</strong>:  当前速度，这个值在你访问这个函数的时候会被随时修改。   <br>
<strong>smoothTime</strong>: 要到达目标位置的近似时间，实际到达目标时要快一些。   <br>
<strong>maxSpeed</strong>: 可选参数，允许你限制的最大速度。   <br>
<strong>deltaTime</strong>: 上次调用该函数到现在的时间。缺省为Time.deltaTime。    <br>
随着时间的推移逐渐改变一个给定的角度到期望的角度。 
这个值通过一些弹簧减震器类似的功能被平滑。这个函数可以用来平滑任何一种值，位置，颜色，标量。最常见的是平滑一个跟随摄像机。 </p>
<div class="highlight"><pre><span></span><code><span class="err">//一个简单的平滑跟随摄像机 </span>
<span class="err">//跟随目标的朝向 </span>
<span class="err">public class example : MonoBehaviour { </span>
<span class="err">    publicTransform target; </span>
<span class="err">    publicfloat smooth = 0.3F; </span>
<span class="err">    publicfloat distance = 5.0F; </span>
<span class="err">    privatefloat yVelocity = 0.0F; </span>
<span class="err">        voidUpdate() { </span>
<span class="err">        //从目前的y角度变换到目标y角度 </span>
<span class="err">        floatyAngle = Mathf.SmoothDampAngle(transform.eulerAngles.y, target.eulerAngles.y,ref yVelocity, smooth); </span>
<span class="err">        //target的位置 </span>
<span class="err">        Vector3position = target.position; </span>
<span class="err">        //然后，新角度之后的距离偏移 </span>
<span class="err">        position+= Quaternion.Euler(0, yAngle, 0) * new Vector3(0, 0, -distance); </span>
<span class="err">        //应用位置 </span>
<span class="err">        transform.position= position; </span>
<span class="err">        //看向目标 </span>
<span class="err">        transform.LookAt(target); </span>
<span class="err">    } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.SmoothDamp平滑阻尼</h2>
<p><code>static function SmoothDamp (current :float, target : float, ref currentVelocity : float, smoothTime : float,maxSpeed : float = Mathf.Infinity, deltaTime : float = Time.deltaTime) : float</code>     <br>
参数   <br>
<strong>current</strong>: 当前的位置。   <br>
<strong>target</strong>:  我们试图达到的位置。   <br>
<strong>currentVelocity</strong>: 当前速度，这个值在你访问这个函数的时候会被随时修改。           <br>
<strong>smoothTime</strong>: 要到达目标位置的近似时间，实际到达目标时要快一些。          <br>
<strong>maxSpeed</strong>: 可选参数，允许你限制的最大速度。          <br>
<strong>deltaTime</strong>:  上次调用该函数到现在的时间。缺省为Time.deltaTime。      <br>
描述 
随着时间的推移逐渐改变一个值到期望值。 
这个值就像被一个不会崩溃的弹簧减振器一样被平滑。这个函数可以用来平滑任何类型的值，位置，颜色，标量。</p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">        publicTransform target; </span>
<span class="err">        publicfloat smoothTime = 0.3F; </span>
<span class="err">        privatefloat yVelocity = 0.0F; </span>
<span class="err">        voidUpdate() { </span>
<span class="err">                    floatnewPosition = Mathf.SmoothDamp(transform.position.y, target.position.y, refyVelocity, smoothTime); </span>
<span class="err">                    transform.position= new Vector3(transform.position.x, newPosition, transform.position.z); </span>
<span class="err">        } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.SmoothStep平滑插值</h2>
<p><code>static function SmoothStep (from : float,to : float, t : float) : float</code>   <br>
和lerp类似，在最小和最大值之间的插值，并在限制处渐入渐出。 </p>
<div class="highlight"><pre><span></span><code><span class="err">public class example : MonoBehaviour { </span>
<span class="err">        publicfloat minimum = 10.0F; </span>
<span class="err">        publicfloat maximum = 20.0F; </span>
<span class="err">        voidUpdate() { </span>
<span class="err">                    transform.position= new Vector3(Mathf.SmoothStep(minimum, maximum, Time.time), 0, 0); </span>
<span class="err">        } </span>
<span class="err">}</span>
</code></pre></div>


<h2>Mathf.Sqrt平方根</h2>
<p><code>static function Sqrt (f : float) : float</code>  <br>
计算并返回 f 的平方根。 </p>
<h2>Mathf.Tan正切</h2>
<p><code>static function Tan (f : float) : float</code>   <br>
计算并返回以弧度为单位 f 指定角度的正切值。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://www.vmetu.com/blog/tag/unity.html">Unity</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="http://www.vmetu.com/blog/unity2dzheng-dong-hua-shi-xian-de-liang-chong-fang-shi.html" title="Unity2D帧动画实现的两种方式">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="http://www.vmetu.com/blog/vszhong-error-c2001de-jie-jue-ban-fa.html" title="VS中Error C2001的解决办法">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'vmetu';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  2020</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " 观心苑 ",
  "url" : "http://www.vmetu.com/blog",
  "image": "http://www.vmetu.com/blog/../external/images/profile.jpg",
  "description": "Foo Bar's Thoughts and Writings"
}
</script>

    <script>
      $(document).ready(function() {
        $('#tipue_search_input').tipuesearch();
      });
    </script>

</body>
</html>